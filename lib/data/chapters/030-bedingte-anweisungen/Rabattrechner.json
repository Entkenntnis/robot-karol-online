{
  "version": "v1",
  "title": "Rabattrechner",
  "description": "Du arbeitest in einem Online-Shop und sollst ein Rabattsystem programmieren:\n\n- Frage mit `input()` nach dem Einkaufswert (in Euro)\n- Gib 10% Rabatt bei einem Einkaufswert √ºber 100‚Ç¨\n- Gib 15% Rabatt bei einem Einkaufswert √ºber 200‚Ç¨\n- Frage, ob der Kunde ein Treuekunde ist (ja/nein)\n- Gib Treuekunden zus√§tzlich 5% Rabatt\n- Gib den Endpreis nach Rabatt aus",
  "tasks": [
    {
      "title": "Rabattrechnung",
      "start": {
        "dimX": 6,
        "dimY": 6,
        "height": 6,
        "karol": { "x": 0, "y": 0, "dir": "south" },
        "bricks": {
          "offsetX": -1,
          "offsetY": -1,
          "dimX": 0,
          "dimY": 0,
          "data": []
        },
        "marks": {
          "dimX": 6,
          "dimY": 6,
          "offsetX": 0,
          "offsetY": 0,
          "data": [
            [false, false, false, false, false, false],
            [false, true, true, true, true, false],
            [false, true, false, false, true, false],
            [false, true, false, false, true, false],
            [false, true, true, true, true, false],
            [false, false, false, false, false, false]
          ]
        },
        "blocks": {
          "offsetX": -1,
          "offsetY": -1,
          "dimX": 0,
          "dimY": 0,
          "data": []
        }
      },
      "target": {
        "dimX": 6,
        "dimY": 6,
        "height": 6,
        "karol": { "x": 0, "y": 0, "dir": "south" },
        "bricks": {
          "offsetX": -1,
          "offsetY": -1,
          "dimX": 0,
          "dimY": 0,
          "data": []
        },
        "marks": {
          "dimX": 6,
          "dimY": 6,
          "offsetX": 0,
          "offsetY": 0,
          "data": [
            [false, false, false, false, false, false],
            [false, true, true, true, true, false],
            [false, true, false, false, true, false],
            [false, true, false, false, true, false],
            [false, true, true, true, true, false],
            [false, false, false, false, false, false]
          ]
        },
        "blocks": {
          "offsetX": -1,
          "offsetY": -1,
          "dimX": 0,
          "dimY": 0,
          "data": []
        }
      }
    }
  ],
  "lng": "de",
  "editOptions": "python-pro-only",
  "questScript": "__ide_prompt(\"Willkommen beim Rabattrechner! Du wirst ein Programm erstellen, das Rabattprozente berechnet und den Endpreis ausgibt.\", \"Los geht's!\")\n\n__ide_run_client()\n\n# Pr√ºfe, ob Eingaben vorhanden sind\ninputs = __ide_get_inputs()\nif len(inputs) < 2:\n    __ide_prompt(\"Du musst mindestens zwei Eingaben machen: den Einkaufswert und ob es ein Treuekunde ist.\", \"Nochmal versuchen\")\n    __ide_exit()\n\n# Pr√ºfe, ob eine Ausgabe vorhanden ist\noutputs = __ide_get_outputs()\nif len(outputs) == 0:\n    __ide_prompt(\"Du hast keine Ausgabe gemacht. Gib den Endpreis mit `print()` aus.\", \"Nochmal versuchen\")\n    __ide_exit()\n\n# Versuche, den Einkaufswert zu ermitteln\nvalid_input = False\ntry:\n    einkaufswert = float(inputs[0].replace(',', '.'))\n    valid_input = True\nexcept:\n    __ide_prompt(\"Der eingegebene Einkaufswert konnte nicht als Zahl erkannt werden.\", \"Nochmal versuchen\")\n    __ide_exit()\n\n# Pr√ºfe, ob eine Treuekunden-Eingabe vorhanden ist\ntreuekunde_eingabe = inputs[1].lower()\ntreuekunde = treuekunde_eingabe in [\"ja\", \"j\", \"yes\", \"y\", \"true\", \"1\"]\n\n# Berechne den korrekten Rabatt\nrabatt = 0\nif einkaufswert > 200:\n    rabatt = 0.15  # 15%\nelif einkaufswert > 100:\n    rabatt = 0.10  # 10%\n    \nif treuekunde:\n    rabatt += 0.05  # Extra 5% f√ºr Treuekunden\n\n# Berechne den erwarteten Endpreis\nerwarteter_endpreis = einkaufswert * (1 - rabatt)\n\n# √úberpr√ºfe, ob der richtige Rabatt-Typ verwendet wurde\nlast_output = outputs[-1].lower()\n\n# √úberpr√ºfe, ob eine Zahl in der Ausgabe vorhanden ist\nimport re\npreise = re.findall(r'\\d+[.,]?\\d*', last_output)\n\nif not preise:\n    __ide_prompt(\"Du hast keinen Preis in deiner Ausgabe. Bitte gib den Endpreis nach dem Rabatt aus.\", \"Nochmal versuchen\")\n    __ide_exit()\n\ntry:\n    ausgabe_preis = float(preise[-1].replace(',', '.'))\n    # √úberpr√ºfe mit 2% Toleranz f√ºr Rundungsfehler\n    if abs(ausgabe_preis - erwarteter_endpreis) > erwarteter_endpreis * 0.02:\n        __ide_prompt(f\"Der berechnete Preis scheint nicht korrekt zu sein. √úberpr√ºfe deine Rabattberechnung.\", \"Nochmal versuchen\")\n        __ide_exit()\nexcept:\n    pass  # Wenn die Konvertierung fehlschl√§gt, ignorieren wir das\n\n# √úberpr√ºfe auf Verwendung von if-Anweisungen im Code\ncode = __ide_get_client_code()\nif \"if\" not in code:\n    __ide_prompt(\"Dein Code sollte if-Anweisungen zur Entscheidungsfindung nutzen.\", \"Nochmal versuchen\")\n    __ide_exit()\n\n# Wenn alle Tests bestanden wurden\n__ide_set_progress(True)\n__ide_prompt(f\"Super gemacht! üéâ Du hast erfolgreich ein Programm geschrieben, das Rabatte berechnet und den Endpreis ausgibt. Ein wichtiger Schritt beim Erlernen von Bedingungen!\", \"Weiter\")",
  "language": "python-pro",
  "program": "# Rabattrechner\n# 1. Frage nach dem Einkaufswert\n# 2. Berechne den Rabatt: 10% bei >100‚Ç¨, 15% bei >200‚Ç¨\n# 3. Frage, ob Treuekunde (ja/nein) -> dann zus√§tzlich 5%\n# 4. Gib den Endpreis aus\n\n# TODO: Schreibe deinen Code hier\n"
}
